<h4 class="text-right">Ajouter une nature de mission <button class="btn btn-success" (click)="open(content)">+</button>
</h4>

<!--Modal-->
<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Ajout d'une nature de missions</h4>
    </div>
    <div class="modal-body">
  
      <div>
        <p></p>
        <div>
          <form (ngSubmit)="valider()" #monForm="ngForm">
            <div class="form-row">
              <div class="col">
                <label for="nature">Nature</label>
              </div>
              <div class="col">
                <input [(ngModel)]="newNature.nom" type="text" class="form-control" id="nature" name="nom"
                  required>
              </div>
            </div>
  
            <div class="form-row">
              <div class="col">
                <label for="facture">Facturée</label>
              </div>
              <div class="col">
                <select [(ngModel)]="newNature.missionFacturee" class="custom-select" id="facture" name="missionFacturee" required>
                  <option value="">NON</option>
                  <option value="true">OUI</option>
                </select>
              </div>
            </div>
  
            <div class="form-row" *ngIf="newNature.missionFacturee">
              <div class="col">
                <label for="facture">Taux journalier</label>
              </div>
              <div class="col">
                <input [(ngModel)]="newNature.tjm" type="text" class="form-control" id="tjm" name="tjm" #tjm="ngModel"
                  required>
                <p *ngIf="tjm.value < 0 ">
                  Le taux journalier doit être supérieur à 0.
                </p>
              </div>
            </div>
  
            <div class="form-row">
              <div class="col">
                <label for="prime">Versement prime</label>
              </div>
              <div class="col">
                <select [(ngModel)]="newNature.versementPrime" class="form-control" id="prime" name="versementPrime"
                  required>
                  <option value="">NON</option>
                  <option value="true">OUI</option>
                </select>
              </div>
            </div>
  
            <div class="form-row" *ngIf="newNature.versementPrime">
              <div class="col">
                <label for="pourcentagePrime">Pourcentage prime</label>
              </div>
              <div class="col">
                <input [(ngModel)]="newNature.pourcentagePrime" type="text" class="form-control" id="pourcentagePrime"
                  name="pourcentagePrime" #pourcentagePrime="ngModel" required>
                <p *ngIf="pourcentagePrime.value<0 || pourcentagePrime.value>10">
                  Le pourcentage doit être comprise entre 0 et 10.
                </p>
              </div>
            </div>
  
            <div class="form-row">
              <div class="col">
                <label for="facture">Plafond de frais</label>
              </div>
              <div class="col">
                <input [(ngModel)]="newNature.plafond" type="text" class="form-control" id="plafond"
                  name="plafond" required #plafond="ngModel">
                <p *ngIf="plafond.value < 0 ">
                  Le plafond de frais doit être supérieur à 0.
                </p>
              </div>
            </div>
  
            <div class="form-row">
              <div class="col">
                <label for="facture">Dépassement de frais</label>
              </div>
              <div class="col">
                <select [(ngModel)]="newNature.plafondDepassable" class="form-control" id="plafondDepassable"
                  name="plafondDepassable" required>
                  <option value="false">NON</option>
                  <option value="true">OUI</option>
                </select>
              </div>
            </div>
  
            <div class="form-row">
              <div class="col">
                <button class="btn btn-danger" (click)="close()" type="reset">Annuler</button>
              </div>
              <div class="col">
                <button class="btn btn-success" type="submit">Valider</button>
              </div>
            </div>
  
          </form>
        </div>
      </div>
    </div>
    <div class="modal-footer"></div>
  </ng-template>
